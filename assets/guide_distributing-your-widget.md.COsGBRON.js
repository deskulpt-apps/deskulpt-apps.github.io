import{_ as i,c as t,o as s,ag as a}from"./chunks/framework.B-XtCDNB.js";const u=JSON.parse('{"title":"Distributing Your Widget","description":"","frontmatter":{},"headers":[],"relativePath":"guide/distributing-your-widget.md","filePath":"guide/distributing-your-widget.md","lastUpdated":1765306498000}'),n={name:"guide/distributing-your-widget.md"};function o(l,e,h,r,d,p){return s(),t("div",null,[...e[0]||(e[0]=[a(`<h1 id="distributing-your-widget" tabindex="-1">Distributing Your Widget <a class="header-anchor" href="#distributing-your-widget" aria-label="Permalink to &quot;Distributing Your Widget&quot;">​</a></h1><p>Once you&#39;ve created a custom Deskulpt widget, you may want to share it with others. This guide will walk you through the steps to package and distribute your widget effectively.</p><h2 id="step-1-widget-manifest" tabindex="-1">Step 1: Widget Manifest <a class="header-anchor" href="#step-1-widget-manifest" aria-label="Permalink to &quot;Step 1: Widget Manifest&quot;">​</a></h2><p>For widgets meant to be distributed, many optional fields in <code>deskulpt.widget.json</code> will become required. Ensure your manifest includes the following fields (see also <a href="./create-your-first-widget.html#manifest-options">Manifest Options</a>):</p><ul><li><code>name</code>: The display name of the widget.</li><li><code>entry</code>: The relative path to the main widget component file.</li><li><code>version</code>: The version of the widget. In must follow the <a href="https://semver.org/" target="_blank" rel="noreferrer">semantic versioning</a> format (e.g., &quot;1.0.0&quot;, &quot;0.1.0-alpha.0&quot;), and updates to the widget should increment the version.</li><li><code>authors</code>: The authors of the widget. At least one author must be specified. Email and homepage fields are optional but highly recommended.</li><li><code>license</code>: The license under which the widget is distributed. It must be a valid <a href="https://spdx.org/licenses/" target="_blank" rel="noreferrer">SPDX License Identifier</a>. Deskulpt currently only accepts the following licenses: <code>MIT</code>, <code>Apache-2.0</code>. Make sure to include the full license text in a <code>LICENSE</code> file also placed in the root of the widget folder.</li><li><code>description</code>: A brief description of the widget.</li><li><code>homepage</code>: The URL of the widget&#39;s homepage. If there is no dedicated homepage, you can use a link to the repository hosting the widget&#39;s source code.</li></ul><h2 id="step-2-create-a-repository" tabindex="-1">Step 2: Create a Repository <a class="header-anchor" href="#step-2-create-a-repository" aria-label="Permalink to &quot;Step 2: Create a Repository&quot;">​</a></h2><p>Create a publicly accessible Git repository, preferably on GitHub. The widget folder can be either the root of the repository, or under a subfolder.</p><h2 id="step-3-prepare-for-distribution" tabindex="-1">Step 3: Prepare for Distribution <a class="header-anchor" href="#step-3-prepare-for-distribution" aria-label="Permalink to &quot;Step 3: Prepare for Distribution&quot;">​</a></h2><p>To have your widget distributed via Deskulpt&#39;s official widget registry (so it can be easily discovered from the &quot;Gallery&quot; tab in the Deskulpt manager interface), you need to fork this repository and make a pull request: <a href="https://github.com/deskulpt-apps/widgets" target="_blank" rel="noreferrer">https://github.com/deskulpt-apps/widgets</a>.</p><h3 id="publisher-identity" tabindex="-1">Publisher Identity <a class="header-anchor" href="#publisher-identity" aria-label="Permalink to &quot;Publisher Identity&quot;">​</a></h3><p>If you are a first-time publisher, you need to first create a publisher identity file under <code>publishers/{handle}.yaml</code>. Replace <code>{handle}</code> with any identifier that has not been used by other publishers. It must include only alphanumeric characters or hyphens (<code>-</code>).</p><p>If you are publishing on behalf or yourself as an individual, you need to include:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GITHUB_ID</span></span></code></pre></div><p>Your GitHub ID can be found by visiting <code>https://api.github.com/users/{GITHUB_USERNAME}</code> and looking for the <code>id</code> field, or if you have <a href="https://cli.github.com/" target="_blank" rel="noreferrer">GitHub CLI</a> installed, you can run the following command, replacing <code>{GITHUB_USERNAME}</code> with your actual GitHub username:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> users/{GITHUB_USERNAME}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.id&#39;</span></span></code></pre></div><p>If you are publishing on behalf of an organization, you need to include:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">organization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GITHUB_ORG_ID</span></span></code></pre></div><p>The GitHub organization ID can be found by visiting <code>https://api.github.com/orgs/{GITHUB_ORG_NAME}</code> and looking for the <code>id</code> field, or if you have <a href="https://cli.github.com/" target="_blank" rel="noreferrer">GitHub CLI</a> installed, you can run the following command, replacing <code>{GITHUB_ORG_NAME}</code> with your actual GitHub organization name:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> orgs/{GITHUB_ORG_NAME}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.id&#39;</span></span></code></pre></div><h3 id="widget-declaration" tabindex="-1">Widget Declaration <a class="header-anchor" href="#widget-declaration" aria-label="Permalink to &quot;Widget Declaration&quot;">​</a></h3><p>You need to declare your widget in <code>widgets/{handle}.yaml</code>, replacing <code>{handle}</code> with the publisher identity handle you are publishing under. This file contains all widgets published under that publisher identity, with each widget keyed by a unique ID. This ID does not need to be globally unique, but only unique within the scope of the publisher identity. Same as the handle, it must include only alphanumeric characters or hyphens (<code>-</code>). An example declaration looks like this:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">my-widget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  repo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://github.com/your-username/your-widget-repo.git</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  commit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FULL_COMMIT_HASH</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">optional/subfolder/path</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># More widgets...</span></span></code></pre></div><ul><li><code>version</code>: The version of the widget being published. It must match the <code>version</code> field in the widget&#39;s manifest at the specified commit.</li><li><code>repo</code>: The URL of the Git repository hosting the widget&#39;s source code.</li><li><code>commit</code>: The full commit hash (40 characters) corresponding to the version being published. This ensures that the exact version of the widget can be retrieved.</li><li><code>path</code> (optional): The relative path to the widget folder within the repository. If the widget folder is at the root of the repository, this field can be omitted.</li></ul><p>If you are updating an already published widget, you don&#39;t need to create a new entry; simply update the existing entry with a larger version number (according to <a href="https://semver.org/" target="_blank" rel="noreferrer">semantic versioning</a>) and the new <code>commit</code> hash. Other fields can be updated as well if needed. If you create a new entry, then it will be treated as a new widget.</p><h2 id="step-4-submit-a-pull-request" tabindex="-1">Step 4: Submit a Pull Request <a class="header-anchor" href="#step-4-submit-a-pull-request" aria-label="Permalink to &quot;Step 4: Submit a Pull Request&quot;">​</a></h2><p>Once you have prepared the necessary files in your forked repository, submit a pull request targeting the <code>main</code> branch of the widgets registry: <a href="https://github.com/deskulpt-apps/widgets" target="_blank" rel="noreferrer">https://github.com/deskulpt-apps/widgets</a>. Note that when every commit in your pull request must be signed off. You can do this by adding the <code>-s</code> flag when committing changes:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Your commit message&quot;</span></span></code></pre></div><p>If you have already made commits without signing off, you can retroactively sign off the last commit using:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --amend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span></span></code></pre></div><p>If you have multiple commits to sign off, you can do an interactive rebase and sign off each commit:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HEAD~N</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Replace N with the number of commits to sign off</span></span></code></pre></div><p>If unsigned commits have already been pushed to remote, you will need to force push after amending the commits:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force-with-lease</span></span></code></pre></div><p>Automated checks will run on your pull request to validate the manifest and other details. Once everything is verified and approved, your widget will go over manual review and finally get merged into the registry. After merging, it may take up to 24 hours for the widget to appear in the Deskulpt manager interface&#39;s &quot;Gallery&quot; tab for users to discover and install. If you encounter any issues during the submission process, feel free to reach out to the maintainers for assistance.</p>`,34)])])}const g=i(n,[["render",o]]);export{u as __pageData,g as default};
